<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">

	<!-- 固定视口宽度为设备宽度，禁止用户缩放页面 -->
	<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">

	<!-- 格式检测 -->
	<meta name="format-detection" content="telephone=no,email=no,adress=no">

	<!-- 禁止百度自动转码 -->
	<meta http-equiv="Cache-Control" content="no-siteapp">

	<title>玑域科技</title>
	
	<link rel="stylesheet" href="css/swiper-3.3.1.min.css">
	<link rel="stylesheet" href="css/animate.min.css">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/index.css">
</head>
<body>
	<div class="swiper-container" id="main-swiper">
		<div class="swiper-wrapper">
			<div class="swiper-slide" id="slide1">
				<img src="images/s1-circle1.png" id="s1-c1" class="circle">
				<img src="images/s1-circle2.png" id="s1-c2" class="circle">
				<img src="images/s1-circle3.png" id="s1-c3" class="circle">
				<a href="#" id="s1-fp"><img src="images/s1-fingerprint.png"></a>
				<img src="images/s1-subline.png" id="s1-sbl">
			</div>
			<div class="swiper-slide" id="slide2">
				<img src="images/s2-title.png" id="s2-title" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="0s" class="ani">
				<img src="images/s2-robot.png" id="s2-robot">
				<img src="images/s2-rbline.png" id="s2-rbline">
				<img src="images/s2-word1.png" id="s2-word1" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="0.6s" class="ani">
				<div id="s2-para" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="1.2s" class="ani">
					<p id="now-date"></p>
					<img src="images/s2-word2.png" id="s2-word2">
				</div>
				<img src="images/logo.png" id="s2-logo">
			</div>
			<div class="swiper-slide">Slide 3</div>
		</div>
	</div>
	<script src="js/zepto.js"></script>
	<script src="js/swiper-3.3.1.jquery.min.js"></script>
	<script src="js/swiper.animate1.0.2.min.js"></script>
	<script>
		$(document).ready(function() {
			var mainSwiper = new Swiper ('#main-swiper', {
				direction: 'vertical',
				effect : 'fade',
				fade: {
					crossFade: true,
				},
				onInit: function(swiper){ 
					swiperAnimateCache(swiper); 
					swiperAnimate(swiper); 
				}, 
				onSlideChangeEnd: function(swiper){ 

				},
				onTransitionEnd: function(swiper){
					swiperAnimate(swiper);
					if (swiper.activeIndex == 1) {
						// $('#s2-rbline').animate({'height': rblineheight}, 300)
					}

				}
			})
			var windowWidth = parseInt($(window).width());
			var rblineheight = $('#s2-rbline').height();
			// $('#s2-rbline').height(0);
			// alert(rblineheight);
			$('#s1-c1').css('top',parseInt(windowWidth*0.27));    
			$('#s1-c2').css('top',parseInt(windowWidth*0.21));
			$('#s1-c3').css('top',parseInt(windowWidth*0.205));
			$('#s1-fp').css('top',parseInt(windowWidth*0.53));

			$('#s1-fp').click(function(){
				mainSwiper.slideTo(1, 800, function(){
					swiperAnimate(swiper);
				});
				return false;
			})

			$('#s2-robot').css('top',parseInt(windowWidth*0.51));
			$('#s2-rbline').css('top',parseInt(windowWidth*0.56));

			var nowDate = new Date();
			$('#now-date').html('&nbsp;&nbsp;' + nowDate.getFullYear() + ' / ' + padding(nowDate.getMonth()+1) + ' / ' + padding(nowDate.getDate()));
			
		});

function padding(number) {
	return number < 10 ? "0" + number : "" + number; 
}

// (function ($) {
//   $.fn.slideDown = function (duration) {    
//     // get old position to restore it then
//     var position = this.css('position');

//     // show element if it is hidden (it is needed if display is none)
//     this.show();

//     // place it so it displays as usually but hidden
//     this.css({
//       position: 'absolute',
//       visibility: 'hidden'
//     });

//     // get naturally height
//     var height = this.height();

//     // set initial css for animation
//     this.css({
//       position: position,
//       visibility: 'visible',
//       overflow: 'hidden',
//       height: 0
//     });

//     // animate to gotten height
//     this.animate({
//       height: height
//     }, duration);
//   };
// })(Zepto);
</script>
</body>
</html>