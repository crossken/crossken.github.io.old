<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">

	<!-- 固定视口宽度为设备宽度，禁止用户缩放页面 -->
	<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">

	<!-- 格式检测 -->
	<meta name="format-detection" content="telephone=no,email=no,adress=no">

	<!-- 禁止百度自动转码 -->
	<meta http-equiv="Cache-Control" content="no-siteapp">

	<title>玑域科技</title>
	
	<link rel="stylesheet" href="css/swiper-3.3.1.min.css">
	<link rel="stylesheet" href="css/animate.min.css">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/index.css">
</head>
<body>
	<div class="swiper-container" id="main-swiper">
		<div class="swiper-wrapper">
			<div class="swiper-slide" id="slide1" data-hash="slide1">
				<img src="images/s1-circle1.png" id="s1-c1" class="circle">
				<img src="images/s1-circle2.png" id="s1-c2" class="circle">
				<img src="images/s1-circle3.png" id="s1-c3" class="circle">
				<a href="#" id="s1-fp"><img src="images/s1-fingerprint.png"></a>
				<img src="images/s1-subline.png" id="s1-sbl">
			</div>
			<div class="swiper-slide" id="slide2" data-hash="slide2">
				<img src="images/s2-title.png" id="s2-title" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="3.1s" class="ani">
				<a href="" id="s2-btn">
					<img src="images/s2-robot.png" id="s2-robot" swiper-animate-effect="fadeIn" swiper-animate-duration="0.7s" swiper-animate-delay="0s" class="ani">
					<img src="images/s2-hand.png" id="s2-hand"  swiper-animate-effect="fadeIn" swiper-animate-duration="0.7s" swiper-animate-delay="5.5s" class="ani">
					<canvas id="canvas1" width="90" height="110"></canvas>
					<canvas id="canvas2" width="90" height="110"></canvas>
					<canvas id="canvas3" width="90" height="110"></canvas>
					<canvas id="canvas4" width="90" height="110"></canvas>
					<canvas id="canvas5" width="90" height="110"></canvas>
					<canvas id="canvas6" width="90" height="110"></canvas>
				</a>

				<!-- <img src="images/s2-rbline.png" id="s2-rbline"> -->
				<img src="images/s2-word1.png" id="s2-word1" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="3.7s" class="ani">
				<div id="s2-para" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="4.3s" class="ani">
					<p id="now-date"></p>
					<img src="images/s2-word2.png" id="s2-word2">
				</div>
				<img src="images/logo.png" class="s2-logo ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="4.9s">
			</div>
			<div class="swiper-slide" id="slide3" data-hash="slide3">
				<img src="images/s3-title.png" id="s3-title" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="0s" class="ani">
				<img src="images/s3-word1.png" id="s3-word1" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="0.6s" class="ani">
				<a href="" id="s3-go" class="go ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="1.2s"><img src="images/go.png"></a>
				<img src="images/logo.png" class="s2-logo ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="1.8s">
			</div>
			<div class="swiper-slide" id="ani" data-hash="slide4">
				<img src="images/ani-bg.png" id="ani-bg">
				<img src="images/ani-circle.png" id="ani-circle">
				<img src="images/ani-1.jpg" id="ani-1">
			</div>
			<div class="swiper-slide" id="slide4" data-hash="slide5">
				<img src="images/s4-title.png" id="s4-title" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="0s" class="ani">
				<img src="images/s4-word1.png" id="s4-word1" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="0.6s" class="ani">
				<div id="s4-lr">
					<img src="images/s4-loading.png">
					<div class="loading-mask"></div>
				</div>
				<a href="" id="s4-go" class="go ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="1.2s"><img src="images/go.png"></a>
				<img src="images/logo.png" class="s2-logo ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.7s" swiper-animate-delay="1.8s">
			</div>
			<div class="swiper-slide" id="slide5" data-hash="slide6">
				<img src="images/s5-title.png" id="s5-title">
				<img src="images/s5-doc.png" id="s5-doc">
				<img src="images/s5-word1.png" id="s5-word1">
				<a href="" id="s5-go" class="go"><img src="images/go.png"></a>
				<img src="images/logo.png" class="s2-logo">
			</div>
			<div class="swiper-slide" id="slide6" data-hash="slide7">
				<img src="images/s6-title.png" id="s6-title">
				<div id="s6-main">
					<img src="images/s6-left-top.png" id="s6-lt">
					<img src="images/s6-right-bottom.png" id="s6-rb">
					<img src="images/s6-circle.png" id="s6-circle">
					<img src="images/s6-word1.png" id="s6-word1">
				</div>
				<div id="s6-btn-wrapper">
					<a href="" id="s6-tech" class="s6-btn"><img src="images/s6-small.png"><img src="images/s6-tech-word.png"></a>
					<a href="" id="s6-design" class="s6-btn"><img src="images/s6-small.png"><img src="images/s6-design-word.png"></a>
					<a href="" id="s6-planning" class="s6-btn"><img src="images/s6-small.png"><img src="images/s6-planning-word.png"></a>
				</div>
				<img src="images/logo.png" class="s2-logo">
			</div>
			<div class="swiper-slide" id="tech" data-hash="slide8">
				
			</div>
		</div>
	</div>
	<script src="js/zepto.js"></script>
	<script src="js/swiper-3.3.1.jquery.min.js"></script>
	<script src="js/swiper.animate1.0.2.min.js"></script>
	<script>
		$(document).ready(function() {

			$('a').on('click', 'a', function(event) {
				event.preventDefault();
			});

			var mainSwiper = new Swiper ('#main-swiper', {
				direction: 'vertical',
				effect : 'fade',
				fade: {
					crossFade: true,
				},
				hashnav: true,
				// onlyExternal: true,
				onInit: function(swiper){ 
					swiperAnimateCache(swiper); 
					swiperAnimate(swiper); 
				}, 
				onSlideChangeEnd: function(swiper){ 
					swiperAnimate(swiper);
					if (swiper.activeIndex == 1) {
						setTimeout(function(){
							drawHexagon();
						},700)
					}
					if (swiper.activeIndex == 2) {
						// setTimeout(function(){

						// 	$btnOne = $('#s3-go');
						// 	var shake;
						// 	var shakeNow = setInterval(function(){
						// 		$btnOne.animate({left:'41.5%'}, 30)
						// 		setTimeout(function(){
						// 			$btnOne.animate({left:'42.5%'}, 30);
						// 		},30)
						// 	},60);
						// 	setTimeout(function(){
						// 		clearInterval(shakeNow);
						// 		$btnOne.css('left', '42%');
						// 	},1500);

						// 	setInterval(function(){
						// 		shake = setInterval(function(){
						// 			$btnOne.animate({left:'41.5%'}, 30)
						// 			setTimeout(function(){
						// 				$btnOne.animate({left:'42.5%'}, 30);
						// 			},30)
						// 		},60);
						// 		setTimeout(function(){
						// 			clearInterval(shake);
						// 			$btnOne.css('left', '42%');
						// 		},1500);
						// 	},4000);

						// },2700)
					}
				},
				onTransitionEnd: function(swiper){
					

				}
			})
var windowWidth = parseInt($(window).width());
var rblineheight = $('#s2-rbline').height();
$('#s1-c1').css('top',parseInt(windowWidth*0.27));    
$('#s1-c2').css('top',parseInt(windowWidth*0.21));
$('#s1-c3').css('top',parseInt(windowWidth*0.205));
$('#s1-fp').css('top',parseInt(windowWidth*0.53));

$('#s1-fp').click(function(){
	mainSwiper.slideTo(1, 800,true);

})
$('#s2-btn').click(function() {
	mainSwiper.slideTo(2, 800,true);

});

$('#s2-robot').css('top',parseInt(windowWidth*0.51));
$('#s2-rbline').css('top',parseInt(windowWidth*0.56));

var nowDate = new Date();
$('#now-date').html('&nbsp;&nbsp;' + nowDate.getFullYear() + ' / ' + padding(nowDate.getMonth()+1) + ' / ' + padding(nowDate.getDate()));

$('#ani-1').css('top',parseInt(windowWidth*0.32));

$('#s4-go').click(function(event) {

	$('#s4-word1')[0].style='';
	$('#s4-word1').animate({'opacity':0}, 300);
	setTimeout(function(){
		$('#s4-lr').fadeIn(400);
	},600)
	setTimeout(function(){
		$('#slide4 .loading-mask').animate({'width': '37.5%'}, 1000);
	},1300)
	setTimeout(function(){
		mainSwiper.slideTo(5, 800, true);
	},2500)
});

$('#s3-go').click(function() {
	mainSwiper.slideTo(3, 500,true);
});


var stepTime = 4;
var canvasDelay = 200;

function drawPic(canvasId,from,to) {
	var canvas = document.getElementById(canvasId);
	var context = canvas.getContext("2d");

	var timer=null;
	var t=0,
	c1=to.x-from.x,
	c2=to.y-from.y,
	d=50;
	LineAnim();
	function LineAnim(){
		if (t>d) {
			clearTimeout(timer);
		}
		else{
			var x = from.x+(c1 * t / d),
			y = from.y+(c2 * t / d);
			context.beginPath();
			context.clearRect(0,0,canvas.width, canvas.height);
			context.moveTo(from.x, from.y);
			context.lineTo(x, y);
			context.closePath();
			context.strokeStyle = "#fff";
			context.lineWidth = 3;
			context.stroke();
			t++;
			timer = setTimeout(arguments.callee, stepTime);
		}
	}
}



function drawHexagon(){
	drawPic("canvas1",{x:45,y:0}, {x:90,y:30});
	setTimeout(function(){
		drawPic("canvas2",{x:90,y:30},{x:90,y:80});
	},stepTime*50+canvasDelay);
	setTimeout(function(){
		drawPic("canvas3",{x:90,y:80},{x:45,y:110});
	},(stepTime*50+canvasDelay)*2);
	setTimeout(function(){
		drawPic("canvas4",{x:45,y:110},{x:0,y:80});
	},(stepTime*50+canvasDelay)*3);
	setTimeout(function(){
		drawPic("canvas5",{x:0,y:80},{x:0,y:30});
	},(stepTime*50+canvasDelay)*4);
	setTimeout(function(){
		drawPic("canvas6",{x:0,y:30},{x:45,y:0});
	},(stepTime*50+canvasDelay)*5);
}








});

function padding(number) {
	return number < 10 ? "0" + number : "" + number; 
}



</script>
</body>
</html>